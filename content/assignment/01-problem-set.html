---
title: "Problem Set 1"
editor_options: 
  chunk_output_type: console
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p><em>Due by 11:59 PM Sunday September 6, 2020</em></p>
<ul>
<li><a href="/assignments/01-problem-set-pdf.pdf"><i class="fas fa-file-pdf"></i> <code>Download as PDF</code></a></li>
<li><a href="/assignments/01-problem-set.Rmd"><i class="fab fa-markdown"></i> <code>Download Markdown</code></a></li>
<li><a href="https://rstudio.cloud/spaces/83147/project/1569521"><i class="fas fa-cloud"></i> View Project on R Studio Cloud</a></li>
</ul>
<p><strong>ANSWERS:</strong></p>
<ul>
<li><a href="https://www.youtube.com/watch/dQw4w9WgXcQ"><i class="fas fa-file-pdf"></i> <code>html</code></a></li>
<li><a href="https://www.youtube.com/watch/dQw4w9WgXcQ"><i class="fab fa-markdown"></i> <code>Markdown</code></a></li>
<li><a href="https://www.youtube.com/watch/dQw4w9WgXcQ"><i class="fas fa-registered"></i> <code>R Script</code></a></li>
</ul>
<h2 id="instructions">Instructions</h2>
<p>There are several ways you can complete and turn in this homework assignment:</p>
<ol style="list-style-type: decimal">
<li><p>Type up any applicable answers (saving any plots as images and including them) in a (e.g.¬†Word) document and save it as a PDF <em>and</em> turn in a (commented!) <em>.R</em> file of commands for each relevant question.</p></li>
<li><p>[Not relevant for this homework, but in the future] If you wish to write out answers by hand, you may either print the <i class="fas fa-file-pdf"></i> pdf above or write your answers (all I need is your work and answers) on your own paper and then please scan/photograph &amp; convert them <strong>to a single PDF</strong>, if they are easily readable, but this is <em>not preferred</em>. See my <a href="/reference/#how-to-make-a-pdf-for-submitting-assignments">guide to making a PDF</a></p></li>
<li><p>Download the <i class="fab fa-markdown"></i> <code>.Rmd</code> file, do the homework in markdown, and email to me a single <code>knit</code>ted <code>html</code> or <code>pdf</code> file. Be sure that it shows all of your code (i.e.¬†all chunks have <code>echo = TRUE</code> options), otherwise I will also ask for the markdown file.</p></li>
</ol>
<p>To minimize confusion, I suggest creating a new <code>R Project</code> (e.g.¬†<code>hw1</code>) and storing any data and plots in that folder on your computer. See my <a href="https://github.com/ryansafner/workflow">example workflow</a>.</p>
<p>You may work together (and I highly encourage that) but you must turn in your own answers. I grade homeworks 70% for completion, and for the remaining 30%, pick one question to grade for accuracy - so it is best that you try every problem, even if you are unsure how to complete it accurately.</p>
<h2 id="the-popularity-of-baby-names">The Popularity of Baby Names</h2>
<p>Install and load the package <code>babynames</code>. Get help for <code>?babynames</code> to see what the data includes.</p>
<h3 id="question-1">Question 1</h3>
<h4 id="part-a">Part A</h4>
<p>What are the top 5 boys names for 2017, and what <em>percent</em> of overall names is each?</p>
<h4 id="part-b">Part B</h4>
<p>What are the top 5 <em>girls</em> names, and what <em>percent</em> of overall names is each?</p>
<h3 id="question-2">Question 2</h3>
<p>Make two barplots, of these top 5 names, one for each sex. Map <code>aes</code>thetics <code>x</code> to <code>name</code> and <code>y</code> to <code>prop</code><span><label for="sn-0" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-0" class="margin-toggle"/><span class="sidenote">Or <code>percent</code>, if you made that variable, as I did.<br />
<br />
</span></span> and use <code>geom_col</code> (since you are declaring a specific <code>y</code>, otherwise you could just use <code>geom_bar()</code> and just an <code>x</code>.)</p>
<h3 id="question-3">Question 3</h3>
<p>Find your name.<span><label for="sn-1" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-1" class="margin-toggle"/><span class="sidenote">If your name isn‚Äôt in there üòü, pick a random name.<br />
<br />
</span></span> <code>count</code> by <code>sex</code> how many babies since 1880 were named your name.<span><label for="sn-2" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-2" class="margin-toggle"/><span class="sidenote">Hint: if you do this, you‚Äôll get the number of <em>rows</em> (years) there are in the data. You want to add the number of babies in each row (<code>n</code>), so inside <code>count</code>, add <code>wt=n</code> to weight the count by <code>n</code>.<br />
<br />
</span></span> Also add a variable for the percent of each sex.</p>
<h3 id="question-4">Question 4</h3>
<p>Make a line graph of the number of babies with your name over time, <code>color</code>ed by <code>sex</code>.</p>
<h3 id="question-5">Question 5</h3>
<h4 id="part-a-1">Part A</h4>
<p>Make a table of the most common name for boys by year between 1980-2017.<span><label for="sn-3" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-3" class="margin-toggle"/><span class="sidenote">Hint: once you‚Äôve got all the right conditions, you‚Äôll get a table with a lot of data. You only want to <code>slice</code> the <code>1</code>st row for each table.<br />
<br />
</span></span></p>
<h4 id="part-b-1">Part B</h4>
<p>Now do the same for girls.</p>
<h3 id="question-6">Question 6</h3>
<p>Now let‚Äôs graph the evolution of the most common names since 1880.</p>
<h4 id="part-a-2">Part A</h4>
<p>First, find out what are the top 10 <em>overall</em> most popular names for boys and for girls. You may want to create two vectors, each with these top 5 names.</p>
<h4 id="part-b-2">Part B</h4>
<p>Now make two <code>line</code>graphs of these 5 names over time, one for boys, and one for girls.</p>
<h3 id="question-7">Question 7</h3>
<p><strong>Bonus (a challenge!)</strong>: What are the 10 most common ‚Äúgender-neutral‚Äù names?<span><label for="sn-4" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-4" class="margin-toggle"/><span class="sidenote">This is hard to define. For our purposes, let‚Äôs define this as names where between 48 and 52% of the babies with the name are Male.<br />
<br />
</span></span></p>
<h2 id="political-and-economic-freedom-around-the-world">Political and Economic Freedom Around the World</h2>
<p>For the remaining questions, we‚Äôll look at the relationship between Economic Freedom and Political Freedom in countries around the world today. Our data for economic freedom comes from the <a href="https://www.fraserinstitute.org/economic-freedom/dataset?geozone=world&amp;year=2016&amp;page=dataset">Fraser Institute</a>, and our data for political freedom comes from <a href="https://freedomhouse.org/content/freedom-world-data-and-resources">Freedom House</a>.</p>
<h3 id="question-8">Question 8</h3>
<p>Download these two datasets that I‚Äôve cleaned up a bit:<span><label for="sn-5" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-5" class="margin-toggle"/><span class="sidenote">If you want, try downloading them from the websites yourself!<br />
<br />
</span></span></p>
<ul>
<li><a href="http://metricsf20.classes.ryansafner.com/data/econfreedom.csv"><i class="fas fa-table"></i> <code>econfreedom.csv</code></a></li>
<li><a href="http://metricsf20.classes.ryansafner.com/data/freedomhouse2018.csv"><i class="fas fa-table"></i> <code>freedomhouse2018.csv</code></a></li>
</ul>
<p>Load them with <code>df&lt;-read_csv("name_of_the_file.csv")</code> and save one as <code>econfreedom</code> and the other as <code>polfreedom</code>. Look at each <code>tibble</code> you‚Äôve created.</p>
<h3 id="question-9">Question 9</h3>
<p>The <code>polfreedom</code> dataset is still a bit messy. Let‚Äôs overwrite it (or assign to something like <code>polfreedom2</code>) and select <code>Country.Territory</code> and <code>Total</code> (total freedom score) and rename <code>Country.Territory</code> to <code>Country</code>.</p>
<h3 id="question-10">Question 10</h3>
<p>Now we can try to merge these two datasets into one. Since they both have <code>Country</code> as a variable, we can merge these tibbles using <code>left_join(econfreedom, polfreedom, by="Country")</code><span><label for="sn-6" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-6" class="margin-toggle"/><span class="sidenote">Note, if you saved as something else in question 9., use that instead of <code>polfreedom</code>!<br />
<br />
</span></span> and save this as a new tibble (something like <code>freedom</code>).</p>
<h3 id="question-11">Question 11</h3>
<p>Now make a scatterplot of Political Freedom (<code>total</code>)<span><label for="sn-7" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-7" class="margin-toggle"/><span class="sidenote">Feel free to <code>rename</code> these!<br />
<br />
</span></span> as <code>y</code> on Economic Freedom (<code>ef</code>) as <code>x</code> and <code>color</code> by <code>continent</code>.</p>
<h3 id="question-12">Question 12</h3>
<p>Let‚Äôs do this again, but highlight some key countries. Pick three countries, and make a new tibble from <code>freedom</code> that is only the observations of those countries. Additionally, <em>install</em> and <em>load</em> a packaged called <code>ggrepel</code><span><label for="sn-8" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-8" class="margin-toggle"/><span class="sidenote">This automatically adjusts labels so they don‚Äôt cover points on a plot!<br />
<br />
</span></span> Next, redo your plot from question 11, but now add a layer: <code>geom_label_repel</code> and set its <code>data</code> to your three-country tibble, use same <code>aes</code>thetics as your overall plot, but be sure to add <code>label = ISO</code>, to use the ISO country code to label.<span><label for="sn-9" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-9" class="margin-toggle"/><span class="sidenote">You might also want to set a low <code>alpha</code> level to make sure the labels don‚Äôt obscure other points!<br />
<br />
</span></span></p>
<h3 id="question-13">Question 13</h3>
<p>Make another plot similar to 12, except this time use GDP per Capita (<code>gdp</code>) as <code>y</code>. Feel free to try to put a regression line with <code>geom_smooth()</code>!<span><label for="sn-10" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-10" class="margin-toggle"/><span class="sidenote">If you do, be sure to set its data to the full <code>freedom</code>, not just your three countries!<br />
<br />
</span></span></p>
